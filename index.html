<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Our Grey‚ÄëHair Experts | Corporate AI Solutions</title>
  <meta name="description" content="Meet the seasoned executives and domain specialists behind Corporate AI Solutions. Grey‚Äëhair wisdom powering pragmatic AI adoption." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0b1020;--bg2:#0f172a;--card:#111827;--muted:#94a3b8;--text:#e5e7eb;--headline:#f8fafc;--brand:#60a5fa;--brand2:#22d3ee;--accent:#a78bfa;--radius:16px;--shadow:0 10px 30px rgba(0,0,0,.35);--grid:1200px}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(1200px 600px at 20% -10%, rgba(96,165,250,.15), transparent),radial-gradient(900px 500px at 110% 10%, rgba(34,211,238,.12), transparent),linear-gradient(180deg,var(--bg),var(--bg2));color:var(--text);line-height:1.65;-webkit-font-smoothing:antialiased}
    a{color:var(--brand)}
    header{position:sticky;top:0;z-index:50;backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(11,16,32,.85),rgba(11,16,32,.35));border-bottom:1px solid rgba(148,163,184,.1)}
    .nav{max-width:var(--grid);margin:auto;padding:14px 20px;display:flex;align-items:center;gap:14px}
    .logo{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--headline);font-weight:800}
    .logo-mark{width:28px;height:28px;border-radius:9px;background:conic-gradient(from 210deg,var(--brand),var(--brand2),var(--accent),var(--brand));box-shadow:0 8px 24px rgba(96,165,250,.35)}
    .spacer{flex:1}
    .nav a{color:var(--text);text-decoration:none;font-weight:600;opacity:.9}
    .nav a:hover{opacity:1}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:999px;text-decoration:none;font-weight:700;background:linear-gradient(135deg,var(--brand),var(--brand2));color:#020617;box-shadow:0 10px 24px rgba(34,211,238,.25)}
    .btn.secondary{background:transparent;color:var(--text);border:1px solid rgba(148,163,184,.25);box-shadow:none}
    .wrap{max-width:var(--grid);margin:auto;padding:0 20px}
    .hero{padding:64px 0 24px}
    h1{margin:0 0 10px;font-size:clamp(32px,6vw,52px);line-height:1.05;color:var(--headline)}
    .lead{color:var(--muted);font-size:clamp(16px,2.2vw,20px)}
    section{padding:38px 0}
    h2{margin:0 0 10px;font-size:clamp(24px,4vw,34px);color:var(--headline)}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media(max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:730px){.grid{grid-template-columns:1fr}}
    .card{display:flex;flex-direction:column;gap:12px;background:linear-gradient(180deg,rgba(17,24,39,.9),rgba(17,24,39,.6));border:1px solid rgba(148,163,184,.12);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .head{display:flex;gap:14px;padding:16px}
    .avatar{flex:0 0 84px;width:84px;height:84px;border-radius:12px;background:#0a0f22;border:1px solid rgba(148,163,184,.15);object-fit:cover}
    .name{margin:2px 0 2px;color:var(--headline);font-size:18px;font-weight:800}
    .title{margin:0;color:#cbd5e1;font-size:13px}
    .tags{display:flex;flex-wrap:wrap;gap:8px;padding:0 16px 12px}
    .tag{font-size:12px;border:1px solid rgba(148,163,184,.25);color:var(--text);padding:4px 8px;border-radius:999px;background:rgba(2,6,23,.35)}
    .bio{padding:0 16px 16px;color:#94a3b8;font-size:14px}
    .links{display:flex;gap:10px;padding:0 16px 16px}
    .link{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;border:1px solid rgba(148,163,184,.25);text-decoration:none;color:var(--text);font-weight:600}
    .link:hover{border-color:rgba(96,165,250,.6)}
    .filterbar{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 0}
    .filterbar input{width:280px;max-width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)}
    footer{padding:28px 0 48px;border-top:1px solid rgba(148,163,184,.15);background:linear-gradient(180deg,rgba(2,6,23,.35),rgba(2,6,23,.65))}
    .foot{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media(max-width:980px){.foot{grid-template-columns:1fr}}
    .small{font-size:13px;color:var(--muted)}
    .debug-visible { display: block !important; border: 2px solid red; } /* Debug class to force visibility */
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <a class="logo" href="/" aria-label="Corporate AI Solutions home">
        <span class="logo-mark" aria-hidden="true"></span>
        <span>Corporate <span style="opacity:.8">AI</span> Solutions</span>
      </a>
      <div class="spacer"></div>
      <a href="/">Home</a>
      <a href="/about/">About</a>
      <a href="/join/">Join Us</a>
      <a href="/products/">Products</a>
      <a href="https://corporateaisolutions.com/offerings/">Offerings</a>
      <a href="/blog/">Blog</a>
      <a href="/contact/" class="btn secondary">Contact</a>
      <a href="https://calendly.com/mcmdennis/15min" class="btn" target="_blank" rel="noopener">Get Started</a>
    </nav>
  </header>
  <main>
    <section class="wrap hero">
      <h1>Meet Our Grey‚ÄëHair Experts</h1>
      <p class="lead">Seasoned executives and domain specialists who bring the judgment, networks, and context that make AI succeed in the real world.</p>
      <div class="filterbar">
        <input id="search" type="search" placeholder="Search by name, title, or expertise‚Ä¶" aria-label="Search experts" />
      </div>
    </section>
    <section class="wrap" id="experts">
      <div class="grid" id="grid"></div>
      <p class="small" style="margin-top:10px">Want to join this network? <a href="/join/">Learn more and apply</a> or email <a href="mailto:dennis@corporateaisolutions.com">dennis@corporateaisolutions.com</a>.</p>
    </section>
  </main>
  <section class="wrap" id="create-panel" class="debug-visible" style="margin-top:-10px;"> <!-- Debug visibility -->
    <div class="card" style="padding:16px;">
      <div style="display:flex;gap:2px;align-items:center;justify-content:space-between;">
        <h2 style="margin:0;">Create Expert Card</h2>
        <div style="display:flex;gap:8px;">
          <button id="adminLinkBtn" class="btn secondary">Admin Link</button>
          <button id="inviteLinkBtn" class="btn secondary">Invitation Link</button>
        </div>
      </div>
      <!-- Admin Unlock Bar -->
      <div id="adminUnlockBar" style="display:none;margin-top:12px;">
        <input id="adminPass" type="password" placeholder="Enter Admin Passcode" class="filterbar" style="width:280px;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"/>
        <button id="adminUnlockBtn" class="btn" style="margin-left:8px;">Unlock</button>
        <span id="adminStatus" class="small" style="margin-left:10px;"></span>
      </div>
      <!-- Invitation Unlock Bar -->
      <div id="inviteUnlockBar" style="display:none;margin-top:12px;">
        <input id="inviteCode" type="password" placeholder="Enter Invitation Code" class="filterbar" style="width:280px;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"/>
        <button id="inviteUnlockBtn" class="btn" style="margin-left:8px;">Continue</button>
        <span id="inviteStatus" class="small" style="margin-left:10px;"></span>
      </div>
      <!-- Admin Form -->
      <form id="adminForm" style="display:none;margin-top:16px;">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <label class="small">Name <input id="admin_name" required class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Title <input id="admin_title" required class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Expertise (comma-separated) <input id="admin_expertise" placeholder="Construction, Compliance, AI Strategy" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Photo URL <input id="admin_photo" placeholder="https://..." class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">LinkedIn URL <input id="admin_linkedin" type="url" placeholder="https://www.linkedin.com/in/..." class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)" onchange="prefillLinkedInPhoto(this.value, 'admin')"></label>
          <label class="small">Email <input id="admin_email" type="email" placeholder="name@company.com" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
        </div>
        <label class="small" style="display:block;margin-top:12px;">Short Bio
          <textarea id="admin_bio" rows="4" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></textarea>
        </label>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button id="adminAddCardBtn" class="btn" type="submit">Add Member Card</button>
          <button id="adminCopyJsonBtn" class="btn secondary" type="button">Copy JSON to Clipboard</button>
          <button id="adminAiBioGenerate" class="btn secondary" type="button">Generate AI Bio</button>
        </div>
        <p class="small" id="adminSaveHint" style="margin-top:8px;color:var(--muted);display:none;">Copied! Paste this object into the <code>experts</code> array in the page source.</p>
      </form>
      <!-- Invitation Form -->
      <form id="inviteForm" style="display:none;margin-top:16px;">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
          <label class="small">Name <input id="invite_name" required class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Title <input id="invite_title" required class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Expertise (comma-separated) <input id="invite_expertise" placeholder="Construction, Compliance, AI Strategy" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">Photo URL <input id="invite_photo" placeholder="https://..." class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
          <label class="small">LinkedIn URL <input id="invite_linkedin" type="url" placeholder="https://www.linkedin.com/in/..." class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)" onchange="prefillLinkedInPhoto(this.value, 'invite')"></label>
          <label class="small">Email <input id="invite_email" type="email" placeholder="name@company.com" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></label>
        </div>
        <label class="small" style="display:block;margin-top:12px;">Short Bio
          <textarea id="invite_bio" rows="4" class="filterbar" style="width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(148,163,184,.25);background:#0f172a;color:var(--text)"></textarea>
        </label>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button id="inviteAddCardBtn" class="btn" type="submit">Add My Card</button>
          <button id="inviteCopyJsonBtn" class="btn secondary" type="button">Copy JSON to Clipboard</button>
          <button id="inviteAiBioGenerate" class="btn secondary" type="button">Generate AI Bio</button>
        </div>
        <p class="small" id="inviteSaveHint" style="margin-top:8px;color:var(--muted);display:none;">Copied! Submit this to dennis@corporateaisolutions.com for approval.</p>
      </form>
    </section>
  <footer>
    <div class="wrap foot">
      <div>
        <div class="logo" style="margin-bottom:8px"><span class="logo-mark"></span><span>Corporate <span style="opacity:.8">AI</span> Solutions</span></div>
        <p class="small">Grey‚Äëhair wisdom √ó modern AI engineering. Outcome‚Äëdriven automation with governance and adoption built‚Äëin.</p>
      </div>
      <div>
        <h3 style="margin:0 0 8px;color:var(--headline);font-size:18px">Contact</h3>
        <p class="small">üìß <a href="mailto:dennis@corporateaisolutions.com">dennis@corporateaisolutions.com</a><br>üìû <a href="tel:+61402612471">+61¬†402¬†612¬†471</a><br>üåê <a href="https://corporateaisolutions.com/offerings/">corporateaisolutions.com/offerings</a></p>
        <p class="small">¬© <span id="y"></span> Corporate AI Solutions.</p>
      </div>
    </div>
  </footer>
  <script>
    // ===== Populate cards from inline data =====
    const experts = [
      {
        name: "Dennis McMahon",
        title: "Founder ¬∑ Operator & Advisor",
        expertise: ["Construction", "Modular/Prefab", "Go‚Äëto‚ÄëMarket", "AI Strategy"],
        photo: "https://corporateaisolutions.com/wp-content/uploads/2024/11/Screenshot-2024-07-03-162218.png",
        linkedin: "https://www.linkedin.com/in/dennis-mcmahon-corporate-ai",
        email: "dennis@corporateaisolutions.com",
        bio: "Operator, builder, and advisor across modular construction and AI‚Äëenabled platforms. Focused on pragmatic automation and measurable outcomes."
      },
    ];
    const grid = document.getElementById('grid');

    function cardTemplate(x) {
      const tags = x.expertise.map(t => `<span class="tag">${t}</span>`).join('');
      const linkedin = x.linkedin ? `<a class="link" href="${x.linkedin}" target="_blank" rel="noopener" aria-label="LinkedIn profile for ${x.name}">üîó LinkedIn</a>` : '';
      const email = x.email ? `<a class="link" href="mailto:${x.email}" aria-label="Email ${x.name}">‚úâÔ∏è Email</a>` : '';
      return `
        <article class="card">
          <div class="head">
            <img class="avatar" src="${x.photo}" alt="Headshot of ${x.name}" loading="lazy" decoding="async"/>
            <div>
              <div class="name">${x.name}</div>
              <div class="title">${x.title}</div>
            </div>
          </div>
          <div class="tags">${tags}</div>
          <p class="bio">${x.bio}</p>
          <div class="links">${linkedin}${email}</div>
        </article>
      `;
    }

    function render(list) {
      grid.innerHTML = list.map(cardTemplate).join('');
    }

    // Search filter
    const search = document.getElementById('search');
    function matches(x, q) {
      const hay = (x.name + ' ' + x.title + ' ' + x.expertise.join(' ') + ' ' + x.bio).toLowerCase();
      return hay.includes(q.toLowerCase());
    }
    search.addEventListener('input', () => {
      const q = search.value.trim();
      render(q ? experts.filter(x => matches(x, q)) : experts);
    });

    // Init
    render(experts);

    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Admin Link and Invitation Link Logic
    const adminLinkBtn = document.getElementById('adminLinkBtn');
    const inviteLinkBtn = document.getElementById('inviteLinkBtn');
    const adminUnlockBar = document.getElementById('adminUnlockBar');
    const inviteUnlockBar = document.getElementById('inviteUnlockBar');
    const adminPass = document.getElementById('adminPass');
    const adminUnlockBtn = document.getElementById('adminUnlockBtn');
    const adminStatus = document.getElementById('adminStatus');
    const inviteCode = document.getElementById('inviteCode');
    const inviteUnlockBtn = document.getElementById('inviteUnlockBtn');
    const inviteStatus = document.getElementById('inviteStatus');
    const adminForm = document.getElementById('adminForm');
    const inviteForm = document.getElementById('inviteForm');
    const adminAddCardBtn = document.getElementById('adminAddCardBtn');
    const adminCopyJsonBtn = document.getElementById('adminCopyJsonBtn');
    const adminSaveHint = document.getElementById('adminSaveHint');
    const inviteAddCardBtn = document.getElementById('inviteAddCardBtn');
    const inviteCopyJsonBtn = document.getElementById('inviteCopyJsonBtn');
    const inviteSaveHint = document.getElementById('inviteSaveHint');
    const adminAiBioGenerate = document.getElementById('adminAiBioGenerate');
    const inviteAiBioGenerate = document.getElementById('inviteAiBioGenerate');
    const adminLinkedinInput = document.getElementById('admin_linkedin');
    const inviteLinkedinInput = document.getElementById('invite_linkedin');

    // Admin Link Unlock with Hash Security
    adminLinkBtn.addEventListener('click', () => {
      console.log('Admin Link button clicked'); // Debug
      adminUnlockBar.style.display = 'block';
      adminForm.style.display = 'none'; // Hidden until unlocked
      inviteUnlockBar.style.display = 'none';
    });
    adminUnlockBtn.addEventListener('click', () => {
      console.log('Admin Unlock button clicked'); // Debug
      const inputHash = 'sha256:' + hashString(adminPass.value);
      const adminHash = 'sha256:8b7df143d91c716ecfa5fa77f3f691b5d6b7e2ee067e5a920a0ed5d4e516b645'; // Hash for 'corpAIcard009'
      if (inputHash === adminHash) {
        adminUnlockBar.style.display = 'none';
        adminForm.style.display = 'block';
        adminStatus.textContent = 'Admin access granted!';
        console.log('Admin access unlocked');
      } else {
        adminStatus.textContent = 'Incorrect admin passcode.';
        console.log('Incorrect admin passcode');
      }
    });

    // Invitation Link Unlock
    inviteLinkBtn.addEventListener('click', () => {
      console.log('Invitation Link button clicked'); // Debug
      inviteUnlockBar.style.display = 'block';
      adminUnlockBar.style.display = 'none';
      inviteForm.style.display = 'none'; // Hidden until unlocked
    });
    inviteUnlockBtn.addEventListener('click', () => {
      console.log('Invitation Unlock button clicked'); // Debug
      if (inviteCode.value === 'invite456') { // Replace with your invite code or hash
        inviteUnlockBar.style.display = 'none';
        inviteForm.style.display = 'block';
        inviteStatus.textContent = 'Invitation validated!';
        console.log('Invitation validated');
      } else {
        inviteStatus.textContent = 'Invalid invitation code.';
        console.log('Invalid invitation code');
      }
    });

    // Admin Prefill LinkedIn Photo (simulated)
    adminLinkedinInput.addEventListener('change', () => {
      prefillLinkedInPhoto(adminLinkedinInput.value, 'admin');
    });

    // Invite Prefill LinkedIn Photo (simulated)
    inviteLinkedinInput.addEventListener('change', () => {
      prefillLinkedInPhoto(inviteLinkedinInput.value, 'invite');
    });

    // Admin Add Card
    adminAddCardBtn.addEventListener('click', (e) => {
      e.preventDefault();
      console.log('Admin Add Card button clicked'); // Debug
      const newExpert = {
        name: document.getElementById('admin_name').value,
        title: document.getElementById('admin_title').value,
        expertise: document.getElementById('admin_expertise').value.split(',').map(t => t.trim()),
        photo: document.getElementById('admin_photo').value,
        linkedin: document.getElementById('admin_linkedin').value,
        email: document.getElementById('admin_email').value,
        bio: document.getElementById('admin_bio').value
      };
      if (newExpert.name && newExpert.title) {
        experts.push(newExpert);
        render(experts);
        adminForm.reset();
        adminSaveHint.style.display = 'none';
        console.log('New member card added:', newExpert);
      } else {
        alert('Please fill in at least Name and Title.');
      }
    });

    // Admin Copy JSON
    adminCopyJsonBtn.addEventListener('click', () => {
      console.log('Admin Copy JSON button clicked'); // Debug
      const newExpert = {
        name: document.getElementById('admin_name').value,
        title: document.getElementById('admin_title').value,
        expertise: document.getElementById('admin_expertise').value.split(',').map(t => t.trim()),
        photo: document.getElementById('admin_photo').value,
        linkedin: document.getElementById('admin_linkedin').value,
        email: document.getElementById('admin_email').value,
        bio: document.getElementById('admin_bio').value
      };
      navigator.clipboard.writeText(JSON.stringify(newExpert, null, 2));
      adminSaveHint.style.display = 'block';
      setTimeout(() => adminSaveHint.style.display = 'none', 3000);
    });

    // Admin AI Bio Generation
    adminAiBioGenerate.addEventListener('click', async () => {
      console.log('Admin AI Bio Generate clicked'); // Debug
      const aiInputValue = prompt('Enter details for AI bio generation (e.g., "20 years in tech, AI expert"):');
      if (!aiInputValue) {
        alert('Please provide some input for the AI to generate a bio.');
        return;
      }
      try {
        const response = await fetch('/api/generate-profile', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ content: aiInputValue }),
        });
        const data = await response.json();
        if (data.success && data.profile.bio) {
          document.getElementById('admin_bio').value = data.profile.bio;
          alert('Bio generated successfully!');
        } else {
          alert('Failed to generate bio. Error: ' + (data.error || 'Unknown'));
        }
      } catch (error) {
        console.error('Vercel function error:', error);
        alert('Error generating bio: ' + error.message);
      }
    });

    // Invite Add Card
    inviteAddCardBtn.addEventListener('click', (e) => {
      e.preventDefault();
      console.log('Invite Add Card button clicked'); // Debug
      const newExpert = {
        name: document.getElementById('invite_name').value,
        title: document.getElementById('invite_title').value,
        expertise: document.getElementById('invite_expertise').value.split(',').map(t => t.trim()),
        photo: document.getElementById('invite_photo').value,
        linkedin: document.getElementById('invite_linkedin').value,
        email: document.getElementById('invite_email').value,
        bio: document.getElementById('invite_bio').value
      };
      if (newExpert.name && newExpert.title) {
        const json = JSON.stringify(newExpert, null, 2);
        navigator.clipboard.writeText(json);
        inviteSaveHint.style.display = 'block';
        setTimeout(() => inviteSaveHint.style.display = 'none', 3000);
        alert('Profile copied to clipboard. Please email it to dennis@corporateaisolutions.com for approval.');
        inviteForm.reset();
      } else {
        alert('Please fill in at least Name and Title.');
      }
    });

    // Invite Copy JSON
    inviteCopyJsonBtn.addEventListener('click', () => {
      console.log('Invite Copy JSON button clicked'); // Debug
      const newExpert = {
        name: document.getElementById('invite_name').value,
        title: document.getElementById('invite_title').value,
        expertise: document.getElementById('invite_expertise').value.split(',').map(t => t.trim()),
        photo: document.getElementById('invite_photo').value,
        linkedin: document.getElementById('invite_linkedin').value,
        email: document.getElementById('invite_email').value,
        bio: document.getElementById('invite_bio').value
      };
      navigator.clipboard.writeText(JSON.stringify(newExpert, null, 2));
      inviteSaveHint.style.display = 'block';
      setTimeout(() => inviteSaveHint.style.display = 'none', 3000);
    });

    // Invite AI Bio Generation
    inviteAiBioGenerate.addEventListener('click', async () => {
      console.log('Invite AI Bio Generate clicked'); // Debug
      const aiInputValue = prompt('Enter details for AI bio generation (e.g., "20 years in tech, AI expert"):');
      if (!aiInputValue) {
        alert('Please provide some input for the AI to generate a bio.');
        return;
      }
      try {
        const response = await fetch('/api/generate-profile', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ content: aiInputValue }),
        });
        const data = await response.json();
        if (data.success && data.profile.bio) {
          document.getElementById('invite_bio').value = data.profile.bio;
          alert('Bio generated successfully!');
        } else {
          alert('Failed to generate bio. Error: ' + (data.error || 'Unknown'));
        }
      } catch (error) {
        console.error('Vercel function error:', error);
        alert('Error generating bio: ' + error.message);
      }
    });

    // Prefill LinkedIn Photo (simulated function)
    function prefillLinkedInPhoto(url, formType) {
      if (url.includes('linkedin.com')) {
        const photoUrl = `${url}/photo`; // Simulated photo URL (real scraping requires LinkedIn API)
        if (formType === 'admin') {
          document.getElementById('admin_photo').value = photoUrl;
        } else if (formType === 'invite') {
          document.getElementById('invite_photo').value = photoUrl;
        }
        console.log(`Prefilled photo URL for ${formType} form: ${photoUrl}`);
        alert('LinkedIn URL detected. Photo URL prefilled.');
      }
    }

    // Hash function for security (using crypto)
    function hashString(str) {
      const hash = require('crypto').createHash('sha256');
      hash.update(str);
      return hash.digest('hex');
    }

    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>